<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mid.manager.repo.AdminProductDAO">
	
	
	
	<!-- 카테고리 리스트 불러오기 -->	
	<select id="getCategoryListAD" resultType="com.mid.manager.model.CategoryVO">
		SELECT *
		FROM CATEGORY
	</select>
	
	<!-- 상품등록 페이지 카테고리 별 속성 리스트 불러오기 -->
	
	<select id="getcategoryATTR" parameterType="String" resultType="com.mid.manager.model.RegistProductVO">
		SELECT 
			c.cate_id,
			a.attr_id,
			a.attr_name
		FROM ATTR a
		LEFT JOIN CATEGORY c ON a.cate_id = c.cate_id
		WHERE c.cate_name = #{selectedCategory}
	</select>
	
	<!-- 제품 리스트 불러오기 -->
	<select id="getProductListAD" resultType="com.mid.manager.model.ProductCAJoinVO">
		SELECT
			p.product_no,
			c.cate_name,
			a.admin_name,
			p.product_name,
			p.product_mfc,
			p.product_price,
			p.product_stock,
			p.product_image,
			p.product_thum,
			p.product_cont
		FROM PRODUCT p
		LEFT JOIN CATEGORY c ON p.cate_id = c.cate_id
		LEFT JOIN ADMIN a ON p.admin_no = a.admin_no
	</select> 




</mapper>
<!-- 		SELECT 
			p.product_no,
			p.admin_no,
			p.product_name,
			p.product_mfc,
			p.product_price,
			p.product_stock,
			p.product_image,
			p.product_thum,
			p.product_cont,
			c.cate_id,
			c.cate_name,
			c.pn_prefix,
			at.attr_id,
			at.attr_name,
			atv.attr_value
		FROM PRODUCT p
		LEFT JOIN CATEGORY c ON p.cate_id = c.cate_id
		LEFT JOIN ADMIN ad ON p.admin_no = ad.admin_no
		LEFT JOIN ATTR_VALUE atv ON p.product_no = atv.product_no
		LEFT JOIN ATTR at ON atv.attr_id = at.attr_id
		WHERE c.cate_name = #{selectedCategory} -->